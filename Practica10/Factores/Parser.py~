# -------------------------------------------------------------------
 # Parser.py
 # versión 1.0
 # Copyright (C) 2016  José Ricardo Rodríguez Abreu.
 # Facultad de Ciencias,
 # Universidad Nacional Autónoma de México, Mexico.
 #
 # Este programa es software libre; se puede redistribuir
 # y/o modificar en los términos establecidos por la
 # Licencia Pública General de GNU tal como fue publicada
 # por la Free Software Foundation en la versión 2 o
 # superior.
 #
 # Este programa es distribuido con la esperanza de que
 # resulte de utilidad, pero SIN GARANTÍA ALGUNA; de hecho
 # sin la garantía implícita de COMERCIALIZACIÓN o
 # ADECUACIÓN PARA PROPÓSITOS PARTICULARES. Véase la
 # Licencia Pública General de GNU para mayores detalles.
 #
 # Con este programa se debe haber recibido una copia de la
 # Licencia Pública General de GNU, de no ser así, visite el
 # siguiente URL:
 # http://www.gnu.org/licenses/gpl.html
 # o escriba a la Free Software Foundation Inc.,
 # 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 # ------------------------------------------------------------------
#
import sys

def dame_valores(archivo_entrada):
    try:
        archivo_lectura = open(archivo_entrada, 'r+')
        linea = archivo_lectura.readline()
        linea = linea.upper()
        linea = linea.replace("VARIABLE:","")
        linea = linea.replace("VARIABLES:","")
        linea = linea.replace(" ","")
        formato = linea.find("[")
        if formato == -1:
            raise Exception('El formato del archivo es incorrecto')
        linea = linea.replace("[","")
        linea = linea.replace("]","")
        variables = linea.split("},{")
        var = {}
        for x in variables:
            x = x.replace("{","")
            x = x.replace("}","")
            nom_valor = x.split(':')
            nombre = nom_valor[0]
            valores = nom_valor[1]
            lista_valores = []
            valoreslist = valores.split(',')            
            for y in valoreslist:
                lista_valores.append(int(y))
            var[nombre] = lista_valores
        return var
    except:
        print("El archivo no tiene el formato correcto o esta corrupto")
        
